<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>maliput: System Compatibility</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">maliput
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__system__compatibility.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">System Compatibility</div>  </div>
</div><!--header-->
<div class="contents">
<p>System compatibility refers to the correspondence between a System and data structures used to hold the results of computation. Examples include Context, State, Parameters, etc. To avoid hard-to-debug errors when the wrong object is used with a System, public methods of System and System-derived classes check compatibility with objects by using unique system IDs. These IDs are applied to objects when System-provided methods are used to construct them: AllocateContext(), AllocateOutput(), etc.</p>
<p>In most cases users should be able to ignore this compatibility checking mechanism; setting and checking of IDs should happen naturally in most cases. However, when copying data values between similar systems, some case must be taken. for example, a Clone() of a checked object will not work with a system different from its source, but constructing a destination object using methods of the destination System and using SetFrom() or lower level value accessors will work.</p>
<h2>Details</h2>
<p>A system ID is required for checking the correspondence between a system-specific data structure like a Context or DiscreteValues and the (unique) System which can accept it as a value. A data structure participates in the system ID hinting family by implementing the following concept: </p><div class="fragment"><div class="line"><a class="code" href="namespacemaliput_1_1drake_1_1systems_1_1internal.html#ac417892f49eceb6d6e67d94df23660d8">internal::SystemId</a> get_system_id() <span class="keyword">const</span>;</div>
<div class="line"><span class="keywordtype">void</span> set_system_id(<a class="code" href="namespacemaliput_1_1drake_1_1systems_1_1internal.html#ac417892f49eceb6d6e67d94df23660d8">internal::SystemId</a> <span class="keywordtype">id</span>);</div>
</div><!-- fragment --><p> get_system_id of an object whose set_system_id has not been called will return an invalid (default-constructed, zero-valued) ID.</p>
<p>A System method participates by calling ValidateCreatedForThisSystem(object) on an object that implements the concept.</p>
<p>An invalid system ID represents the absence of information about the associated System; an object carrying an invalid system ID cannot be used in any participating System method, under penalty of std::exception.</p>
<p>Likewise passing an object with valid system ID into a method of a System with different ID will result in a std::exception.</p>
<p>An ID-bearing structure may contain ID-bearing substructures which have different (or invalid) IDs from their parent. Using such a structure may, but is not guaranteed to, result in a std::exception, depending on the semantics of the method called.</p>
<p>Where an ID-bearing object implements Clone(), it MUST clone the system ID and, recursively, those of its members, whether valid or invalid.</p>
<p>Where an ID-bearing object implements the potentially-scalar-converting SetFrom(), if the scalar types differ, it MUST NOT set the system IDs, nor may it set the system IDs of its copied members (because being of the wrong type it is no longer valid data for the original System). This prohibition does not apply when the scalar types are the same.</p>
<p>Data types that currently implement the above-described scheme include Context, ContinuousState, DiscreteValues, CompositeEventCollection, Parameters, State, and SystemOutput.</p>
<p>The SystemConstraint class uses a custom mechanism to extend checking of Context compatibility to its public methods.</p>
<h2>Effects on Public API</h2>
<p>This change does not declare a deprecation because virtually all of the affected use cases were invalid to begin with and would have resulted in errors later in the affected code. The exception is hand-constructed objects (i.e., objects with public constructors that were not constructed through methods of System); most such objects have not worked reliably in the past anyway. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespacemaliput_1_1drake_1_1systems_1_1internal_html_ac417892f49eceb6d6e67d94df23660d8"><div class="ttname"><a href="namespacemaliput_1_1drake_1_1systems_1_1internal.html#ac417892f49eceb6d6e67d94df23660d8">maliput::drake::systems::internal::SystemId</a></div><div class="ttdeci">maliput::drake::Identifier&lt; class SystemIdTag &gt; SystemId</div><div class="ttdef"><b>Definition:</b> framework_common.h:115</div></div>
<!-- HTML footer for doxygen 1.8.15 -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.nl/">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a></li>
  </ul>
</div>
</body>
</html>
